<!DOCTYPE html>
<html xmlns:ng="http://angularjs.org" ng-app="application">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>StrongLoop Suite Sample Application</title>

        <link rel="stylesheet" href="js/bower/bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="js/bower/angular-dialog-service/dialogs.min.js">

    </head>
    <body>
        <div ng-controller="controllerLogin">
            <input class="form-control" type="text" ng-model="login.email"/>
            <input class="form-control" type="password" ng-model="login.password"/>
        </div>
        <div ng-controller="controllerAdminMain" ng-hide="!user.id">
            <pre>{{user|json}}</pre>
            <h1>
                <a href="?">
                    <span class="glyphicon glyphicon-home"></span>
                    &nbsp;{{'ADMINISTRATION' | translate}}
                </a>
            </h1>

            <!-- Ruleset / FeatureModel selector -->
            <div ng-hide="hasRoute('rule') || hasRoute('featureModel')">
                <div class="col-lg-3">
                    <h3>{{'RULES'|translate}}</h3>
                    <table class="table">
                        <colgroup>
                            <col/>
                            <col width="100"/>
                        </colgroup>
                        <tr ng-repeat="rule in rules">
                            <th>{{rule.name}}</th>
                            <td><a ng-href="{{'#/?rule=' + rule.id}}" class="btn btn-primary">{{'SELECT'|translate}}</a></td>
                        </tr>
                    </table>
                    </div>

                <div class="col-lg-3">
                    <h3>{{'FEATURE_MODELS'|translate}}</h3>
                    <table class="table">
                        <colgroup>
                            <col/>
                            <col width="100"/>
                        </colgroup>
                        <tr ng-repeat="featureModel in featureModels">
                            <th>{{featureModel.name}}</th>
                            <td><a ng-href="{{'#/?featureModel=' + featureModel.id}}" class="btn btn-primary">{{'SELECT'|translate}}</a></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- Ruleset Detail -->
            <div ng-controller="controllerAdminRuleset" ng-show="hasRoute('rule')">
                <h2>{{rule.name}}</h2>
                <tabset>
                    <!-- Ruleset SheetModels -->
                    <tab heading="{{'SHEETS'|translate}}">

                        <div class="clearfix">&nbsp;</div>

                        <ul class="list-group col-xs-2">
                            <a
                               class="list-group-item"
                               ng-class="{active: hasRoute('sheet', sheet.id)}"
                               ng-href="{{'#/?rule=' + rule.id + '&sheet=' + sheet.id}}"
                               ng-repeat="sheet in rule.sheets">
                                {{sheet.name}}
                            </a>

                            <a class="list-group-item" ng-click="addSheetModel()">
                                <span class="glyphicon glyphicon-plus"></span>
                            </a>
                        </ul>

                        <div
                            class="col-xs-10"
                            ng-controller="controllerAdminSheetModel"
                            ng-include="'templates/admin/sheetmodel.html'">
                        </div>
                    </tab>
                    <tab heading="{{'GAMES'|translate}}">
                        <ul class="list-group">
                            <a
                                    class="list-group-item"
                                    target="_blank"
                                    ng-repeat="game in games"
                                    ng-href="{{'game.html#/?id=' + game.id}}">
                                {{game.name}}</a>
                        </ul>
                    </tab>
                    <tab heading="{{'CAMPAIGNS'|translate}}"></tab>
                    <tab heading="{{'SCENARIOS'|translate}}"></tab>
                </tabset>
            </div>

            <div
                    ng-controller="controllerAdminFeatureModel"
                    ng-show="hasRoute('featureModel')"
                    ng-include="'templates/admin/featureModel.html'">
            </div>
        </div>





        <!--Angular-->
        <script src="js/bower/angular/angular.js"></script>
        <script src="js/bower/angular-route/angular-route.min.js"></script>
        <script src="js/bower/angular-resource/angular-resource.min.js"></script>
        <script src="js/bower/angular-sanitize/angular-sanitize.min.js"></script>
        <script src="js/bower/angular-promise-tracker-git/promise-tracker.min.js"></script>
        <script src="js/bower/angular-translate/angular-translate.min.js"></script>
        <script src="js/bower/angular-dialog-service/dialogs.min.js"></script>
        <script src="js/bower/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
        <!--<script src="js/bower/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>-->

        <!--Libs-->
        <script src="js/lb-services.js"></script>
        <script src="js/tools.js"></script>
        <script src="js/shared.js"></script>

        <!--App-->
        <script src="js/application/application.js"></script>
        <script src="js/application/services.js"></script>

        <!--Controllers-->
        <script src="js/application/controllers/abstract/main.js"></script>
        <script src="js/application/controllers/admin/main.js"></script>
        <script src="js/application/controllers/admin/ruleset.js"></script>
        <script src="js/application/controllers/admin/sheetModel.js"></script>
        <script src="js/application/controllers/admin/featureModel.js"></script>
        <script src="js/application/controllers/admin/featureConfig.js"></script>

        <!--Directives-->
        <script src="js/application/directives/jdrUpdater.js"></script>
    </body>
</html>
